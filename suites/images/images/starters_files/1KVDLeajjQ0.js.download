if (self.CavalryLogger) { CavalryLogger.start_js(["izMsC"]); }

__d("MUFIActorSelectorBootloader",["Bootloader","Event","MFlyout","MLayerDestroyOnHide","MLayerHideOnBlur","destroyOnUnload"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={_buildLoadingFlyout:function(a,c){return new(b("MFlyout"))({position:"below",context:a,addedBehaviors:[b("MLayerDestroyOnHide"),b("MLayerHideOnBlur")],classNames:["accelerate"],margin:"none",nubalign:"center",offsetY:0,width:"100%"},c)},initBootloadHook:function(a){var c=this,d=b("Event").listen(a.container,"click",function(){var e=c._buildLoadingFlyout(a.loadingFlyoutContext,a.loadingFlyoutContent);e.show();b("Bootloader").loadModules(["MUFIActorSelector.react","ReactRenderer"],function(b,c){c.constructAndRenderComponentAcrossTransitions(b,a.reactElementProps,a.container),e.destroy(),d.remove()},"MUFIActorSelectorBootloader")});b("destroyOnUnload")(d.remove)}};e.exports=a}),null);
__d("MAudioUtil",["Promise","EventEmitter","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h={};function i(a,b){__p&&__p();if(!a||typeof a!=="string")return null;if(!h[a]){var c=document.createElement("audio");c.style.display="none";c.volume=.4;c.preload="auto";var d=document.createElement("source");d.setAttribute("src",a);d.setAttribute("type",b||"audio/mp4");c.appendChild(d);c.addEventListener("ended",function(){g.emit("end-"+a)},!1);h[a]=c}return h[a]}function j(a){try{b("FBLogger")("mweb:audio").warn("Audio file %s missing.",a)}catch(a){}}e.exports={prepare:function(a,b){if(a&&a.length)for(var c=0;c<a.length;c++)a[c]&&i(a[c],b)},play:function(a){__p&&__p();return new(b("Promise"))(function(b,c){__p&&__p();var d=i(a);if(!d||!d.play){j(a);c();return}var e="end-"+a,f=!1;c=function(){if(!f){f=!0;d.currentTime=0;d.play();var a,c=function(){a&&a.remove(),b()};a=g.once(e,c)}};var h=g.listeners(e);h&&h.length?b():c()})}}}),null);
__d("MAudioController",["Promise","MAudioUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=!0;function h(a,c,d){a&&d&&(c[a]=function(){return!g?new(b("Promise"))(function(a){a()}):b("MAudioUtil").play(d)})}function i(a,c){var d=[];Object.keys(a).forEach(function(b){if(!c[b]){var e=a[b];h(b,c,e);d.push(e)}});b("MAudioUtil").prepare(d)}var j={setEnabled:function(a){g=a},prepare:function(a,b,c){this.setEnabled(c);j[a]=j[a]||{};c=i(b,j[a]);j[a]=Object.assign({},j[a],c)},play:function(a,b){j[a]&&typeof j[a][b]==="function"&&j[a][b]()}};e.exports=j}),null);
__d("MCompositionStoreID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONFIG:"CONFIG",FORMAT:"FORMAT",GROUP_SELL:"GROUP_SELL",MINUTIAE:"MINUTIAE",PHOTO:"PHOTO",PLACE:"PLACE",PAGE_RECOMMENDATIONS:"PAGE_RECOMMENDATIONS",SHARE:"SHARE",STATUS:"STATUS",WITH_TAGS:"WITH_TAGS",PRIVACY:"PRIVACY",SLIDESHOW:"SLIDESHOW",AUDIO:"AUDIO"})}),null);
__d("MComposition",["invariant","MCompositionStoreID"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){a=a||{};this.$1={};for(var b in a)this.setStoreData(b,a[b])}var c=a.prototype;c.serialize=function(){return this.$1};c.$2=function(a){Object.prototype.hasOwnProperty.call(b("MCompositionStoreID"),a)||g(0,2905,a)};c.setStoreData=function(a,b){this.$2(a);Object.prototype.hasOwnProperty.call(this.$1,a)&&g(0,2906,a);this.$1[a]=b;return this};return a}();e.exports=a}),null);
__d("MComposerPresence",["invariant","DOM","EventEmitter","MLegacyDataStore","$"],(function(a,b,c,d,e,f,g){__p&&__p();var h="REGISTERED",i=null,j=new(b("EventEmitter"))();a={addRegistrationListener:function(a){return j.addListener(h,a)},hasRegisteredInstance:function(){return!!i},hasLoadedPrivacyValue:function(a){return!this.hasRegisteredInstance()?!1:b("DOM").scry(b("DOM").find(b("$")("static_templates"),"div","composer-main-view"),"tr","privacy-option").some(function(c){return b("MLegacyDataStore").get(c).value===a})},register:function(a){i&&g(0,5767),i=a,j.emit(h)},unregister:function(a){i===a||g(0,5768),i=null},cleanup:function(){i!==null&&i.cleanup()}};e.exports=a}),null);
__d("MComposerAsyncLoadRequest",["Promise","MComposerPresence","MRequest","gkx"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=null,this.$2=null,this.$3=null}var c=a.prototype;c.$4=function(){this.$1&&(this.$1.remove(),this.$1=null),this.$3&&(this.$3.abort(),this.$3=null)};c.$5=function(a){var c=this;return new(b("Promise"))(function(d,e){c.$1=b("MComposerPresence").addRegistrationListener(d),c.$3=new(b("MRequest"))(a).setFailureLogging("load_composer"),c.$3.setAutoRetry(b("gkx")("676787")),c.$3.listen("fail",e),c.$3.send()})};c.send=function(a){var b=this;this.$2||(this.$2=this.$5(a),this.$2["finally"](function(){return b.$4()}));return this.$2};return a}();e.exports=a}),null);
__d("MComposerDataStoreKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSITION:"COMPOSITION",ON_CANCEL:"ON_CANCEL",ON_SUBMIT:"ON_SUBMIT",ON_OPEN:"ON_OPEN"})}),null);
__d("MComposerSigils",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTRY_TRIGGER_LEGACY:"show_composer",ENTRY_TRIGGER:"composer_entry_trigger"})}),null);
__d("XComposerAsyncLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/composer/async_loader/",{targetid:{type:"Int"}})}),null);
__d("MComposerEntry",["Promise","ErrorUtils","LoadingIndicator","MComposerAsyncLoadRequest","MComposerDataStoreKeys","MComposerPresence","MComposerSigils","MComposition","MLegacyDataStore","Stratcom","XComposerAsyncLoaderController"],(function(a,b,c,d,e,f){__p&&__p();var g=new(b("Promise"))(function(a,b){return b()}),h=new(b("Promise"))(function(a){return a()}),i=b("ErrorUtils").guard(function(a){if(a)throw a},"MComposerEntry");function a(a){if(n)return;o.invoke(new(b("MComposition"))(b("MLegacyDataStore").get(a.getNode(b("MComposerSigils").ENTRY_TRIGGER))[b("MComposerDataStoreKeys").COMPOSITION]))}function j(a,c,d,e,f){__p&&__p();e===void 0&&(e=!0);n=!0;var g=null;b("MComposerPresence").hasRegisteredInstance()?g=m(a,d):g=l(a,c,e).then(function(){var b=!0;f&&(b=f());if(b)return m(a,d)},i);g["finally"](function(){return n=!1});return g}function k(a,c){return b("MComposerPresence").hasRegisteredInstance()?h:new(b("MComposerAsyncLoadRequest"))().send(c)}function l(a,c,d){d===void 0&&(d=!0);d&&b("LoadingIndicator").show();a=k(a,c);d&&a["finally"](function(){return b("LoadingIndicator").hide()});return a}function m(a,c){return new(b("Promise"))(function(d,e){var f={};f[b("MComposerDataStoreKeys").COMPOSITION]=a.serialize();f[b("MComposerDataStoreKeys").ON_CANCEL]=e;f[b("MComposerDataStoreKeys").ON_SUBMIT]=d;f[b("MComposerDataStoreKeys").ON_OPEN]=c;b("Stratcom").invoke("MComposer:entry:js",null,f)})}var n=!1;b("XComposerAsyncLoaderController").getURIBuilder().getURI();b("Stratcom").listen("click",b("MComposerSigils").ENTRY_TRIGGER,a);b("Stratcom").listen("m:page:unload",null,function(){n=!1});var o={invoke:function(a,c){return n||this.blockNavigateToComposer()?g:j(a||new(b("MComposition"))(),b("XComposerAsyncLoaderController").getURIBuilder().setInt("targetid",c).getURI())},invokeOcelot:function(a,c,d,e){if(n||this.blockNavigateToComposer())return g;var f=new(b("MComposition"))();return j(f,a,d,c,e)},blockNavigateToComposer:function(){return window.bgUploadInlineComposerCallback?window.bgUploadInlineComposerCallback():!1}};e.exports=o}),3);
__d("AdsTransparencyReportAdTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:AdsTransparencyReportAdLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAdID=function(a){this.$1.ad_id=a;return this};c.setAdsPageType=function(a){this.$1.ads_page_type=a;return this};c.setEntity=function(a){this.$1.entity=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setProductLocation=function(a){this.$1.product_location=a;return this};c.setReportReason=function(a){this.$1.report_reason=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={ad_id:!0,ads_page_type:!0,entity:!0,event:!0,product_location:!0,report_reason:!0,session_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MSiteMessengerDiodeTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MSiteMessengerDiodeLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMessagingEntryPoint=function(a){this.$1.messaging_entry_point=a;return this};c.setMsiteDiodeStateFromClient=function(a){this.$1.msite_diode_state_from_client=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,messaging_entry_point:!0,msite_diode_state_from_client:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ShareMenuTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ShareMenuLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setErrorMsg=function(a){this.$1.error_msg=a;return this};c.setExtraClientData=function(a){this.$1.extra_client_data=a;return this};c.setFbAudience=function(a){this.$1.fb_audience=a;return this};c.setFbEntryPoint=function(a){this.$1.fb_entry_point=a;return this};c.setFbShareType=function(a){this.$1.fb_share_type=a;return this};c.setFbSignificance=function(a){this.$1.fb_significance=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setOrcaEntryPoint=function(a){this.$1.orca_entry_point=a;return this};c.setOrcaSignificance=function(a){this.$1.orca_significance=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setShareButtonType=function(a){this.$1.share_button_type=a;return this};c.setShareMenuOptionsAvailable=function(a){this.$1.share_menu_options_available=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setShareSourceFeedType=function(a){this.$1.share_source_feed_type=a;return this};c.setShareableID=function(a){this.$1.shareable_id=a;return this};c.setStoryID=function(a){this.$1.story_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={appid:!0,appversion:!0,clienttime:!0,composer_session_id:!0,country:!0,deviceid:!0,error_msg:!0,extra_client_data:!0,fb_audience:!0,fb_entry_point:!0,fb_share_type:!0,fb_significance:!0,name:!0,orca_entry_point:!0,orca_significance:!0,sessionid:!0,share_button_type:!0,share_menu_options_available:!0,share_source_feed_type:!0,shareable_id:!0,story_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("XUFIReactionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/reaction/",{client_id:{type:"String"},ft_ent_identifier:{type:"String"},reaction_type:{type:"Enum",enumType:0},story_render_location:{type:"Enum",enumType:1},is_inline:{type:"Bool",defaultValue:!1},is_comment:{type:"Bool",defaultValue:!1},is_permalink:{type:"Bool",defaultValue:!1},action_source:{type:"String"},feedback_source:{type:"Int"},feedback_referrer:{type:"String"},is_sponsored:{type:"Bool",defaultValue:!1},basic_origin_uri:{type:"String"},basic_reload:{type:"Exists",defaultValue:!1},bgsync_id:{type:"String"},aftercursor:{type:"String"},tab:{type:"String"},_ft_:{type:"String"}})}),null);
__d("MReactionsFlyout",["cx","fbt","ActorURI","BanzaiLogger","CancelableEventListener","CSS","DOM","MAudioController","MBlockingTouchable","MLegacyDataStore","MLiveData","MParent","MUFIConfig","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","TouchEventType","URI","XUFIReactionController","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=[1,2,4,3,7,8],j=17,k="_ft_",l={top:.3,bottom:.6},m,n=[],o=function(){"use strict";__p&&__p();function a(a){__p&&__p();var c=this;this.autoHideOnScroll=function(a){__p&&__p();a=c.flyout;if(!a||!a.isShown()){b("Stratcom").removeCurrentListener();return}var d;window.innerHeight?d=window.innerHeight:document.body&&(d=document.body.clientHeight);if(!d)return;var e=a.getContext().getBoundingClientRect().top,f=d*l.top,g=d*l.bottom;(e<f||e>g)&&a.hide()};this.onUnload=function(){c.onHide(),c.pageSubscriptions.release()};this.onClick=function(a){a=a.getNode("reaction-item");a instanceof HTMLElement&&c.select(a)};this.onScreenReaderTrigger=function(a){__p&&__p();a=a.getTarget();if(!a)return;a=a.previousSibling;if(!a)return;c.flyout.setContext(a);c.setSupported();c.flyout.show();c.flyoutSubscriptions.addSubscriptions(b("Stratcom").listen("click","reaction-item",c.onClick));a=b("MLiveData").get(b("MLegacyDataStore").get(c.flyout.getContext()).feedbackTarget).getData();a=a.viewerreaction;var d=null;for(var e=0,f=c.reactionElements.length;e<f;e++){var g=b("MLegacyDataStore").get(c.reactionElements[e]);g=g.reaction;g===a&&(d=c.reactionElements[e])}d||(d=c.reactionElements[0]);d.focus()};this.onClickTrigger=function(a){__p&&__p();a=a.getTarget();if(!(a instanceof HTMLElement))return;var d=c.flyout;if(d.isShown()){d.hide();return}b("Stratcom").hasSigil(a,"like-reaction-flyout")||(a=b("MParent").bySigil(a,"like-reaction-flyout"));a&&c.setupFlyout(d,a)};this.onClickCapture=function(a){__p&&__p();var d=c.flyout;if(d){var e=b("MLegacyDataStore").get(d.getContext());e=e.kaiOSReactions;if(e&&d.isShown()){d.hide();return}}a.stop()};this.onTouchStart=function(a){__p&&__p();var d=c.flyout;if(!d.isShown()){var e=document;e=e.body;e&&b("CSS").addClass(e,"_70ol");c.touchStartX=a.getTouch().clientX;c.timing.touchStartTime=Date.now();c.preventScrollTimeout=b("setTimeout")(function(){c.canScroll=!1},200);c.longpressTimeout=b("setTimeout")(function(){c.timing.shownTime=Date.now();var e=a.getTarget();if(!(e instanceof HTMLElement))return;b("Stratcom").hasSigil(e,"like-reaction-flyout")||(e=b("MParent").bySigil(e,"like-reaction-flyout"));e&&c.setupFlyout(d,e)},300)}};this.onTouchMove=function(a){__p&&__p();var d=c.flyout,e=d.getContext()&&b("MLegacyDataStore").get(d.getContext()).isComment;c.canScroll||(e?a.kill():a.prevent());if(!d.isShown())return;a=a.getTouch();var f=a.clientX;a=a.clientY;a=document.elementFromPoint(f,a);if(a){var g=a.nodeName==="I"||a.nodeName==="IMG";if(!(g||c.canScrub)){c.canScrub=Math.abs(c.touchStartX-f)>=25;return}d.getContentRoot().setAttribute("data-longpress",!0);if(d.getContentRoot().contains(a)){if(g){a=(f=a)!=null?(f=f.parentNode)!=null?f.parentNode:f:f}c.active!==a&&b("MLegacyDataStore").get(a).reaction&&(c.isUpdatedDock||e?c.showOverlay(c.overlay&&c.overlay.slide):c.showOverlay(c.overlay&&c.overlay.dots),c.removeActive(),c.active=a,a&&a.setAttribute("data-active","true"))}else(!c.overlay||!c.overlay.container.contains(a))&&(c.removeActive(),c.showOverlay(c.overlay&&c.overlay.release))}};this.onTouchEnd=function(a){__p&&__p();var d=c.active;if(d)c.log({finalReaction:b("MLegacyDataStore").get(d).reaction,viaScrubbing:!0}),c.select(d);else{d=a.getTouch();a=d.clientX;d=d.clientY;a=document.elementFromPoint(a,d);d=c.flyout;a&&!(d.getContentRoot().contains(a)||d.getContext().contains(a)||c.overlay&&c.overlay.container.contains(a))&&d.hide()}};this.onWindowClick=function(a){var d;a=a.getNode("reaction-item");a&&(d=b("MLegacyDataStore").get(a).reaction);c.log({finalReaction:d,viaScrubbing:!1})};this.onWindowTouchEnd=function(){var a=c.flyout;a.isShown()?(c.timing.touchEndTime=Date.now(),a.getContentRoot().removeAttribute("data-longpress")):(c.canScroll=!0,b("clearTimeout")(c.longpressTimeout),b("clearTimeout")(c.preventScrollTimeout))};this.onHide=function(){__p&&__p();var a=document;a=a.body;a&&b("CSS").addClass(a,"_70ol");c.canScroll=!0;c.canScrub=!1;c.removeActive();c.removeUFIOverlay();c.flyout.hide();c.flyoutSubscriptions.release();c.flyoutSubscriptions=new(b("SubscriptionsHandler"))()};this.onWindowTouchMove=function(){c.flyout.isShown()||(c.canScroll=!0,b("clearTimeout")(c.longpressTimeout),b("clearTimeout")(c.preventScrollTimeout))};this.flyout=a;this.active=null;this.canScroll=!0;this.canScrub=!1;this.preventScrollTimeout=null;this.longpressTimeout=null;this.nuxTooltip=null;this.overlay=null;this.timing={touchStartTime:null,touchEndTime:null,shownTime:null};this.touchStartX=0;this.isUpdatedDock=b("MUFIConfig").hasUpdatedDock;this.pageSubscriptions=new(b("SubscriptionsHandler"))();this.flyoutSubscriptions=new(b("SubscriptionsHandler"))();this.assignFlyoutContent();this.pageSubscriptions.addSubscriptions(a.addListener("hide",this.onHide),b("Stratcom").listen("m:page:unload",null,this.onUnload),b("Stratcom").listen("m:viewport:orientation-change",null,this.onHide),b("Stratcom").listen(b("TouchEventType").END,null,this.onWindowTouchEnd),b("Stratcom").listen("click","screenreader-reactions-trigger",this.onScreenReaderTrigger),b("CancelableEventListener").listen(a.getContentRoot(),"touchmove","reaction-item",this.onTouchMove,!0));n.forEach(function(a){return c.addAnchor(a)});m&&this.setNUXTooltip(m);b("MUFIConfig").hasIEMobileFixes?this.pageSubscriptions.addSubscriptions(b("Stratcom").listen("touchcancel",null,this.onWindowTouchEnd)):this.pageSubscriptions.addSubscriptions(b("Stratcom").listen("touchmove",null,this.onWindowTouchMove))}var c=a.prototype;c.addAnchor=function(a){var c=b("Stratcom").hasSigil(a,"kaios-like-react-trigger");c?this.pageSubscriptions.addSubscriptions(b("CancelableEventListener").listen(a,"click",null,this.onClickTrigger,!0)):this.pageSubscriptions.addSubscriptions(b("CancelableEventListener").listen(a,b("TouchEventType").START,null,this.onTouchStart,!0));b("MUFIConfig").hasIEMobileFixes||this.pageSubscriptions.addSubscriptions(b("CancelableEventListener").listen(a,"touchmove","like-reaction-flyout",this.onTouchMove,!0),b("CancelableEventListener").listen(a,"touchmove","reaction-item",this.onTouchMove,!0))};c.assignFlyoutContent=function(){(!this.reactionElements||this.reactionElements.length===0)&&(this.reactionElements=document.getElementsByClassName("_1-kd"),Array.prototype.forEach.call(this.reactionElements,function(a){return b("MBlockingTouchable").init(a)}))};c.setupFlyout=function(a,c){__p&&__p();b("gkx")("676818")&&b("MAudioController").play("reactions","openReactionsFlyout");var d=b("MLegacyDataStore").get(c);a.setContext(c);this.setSupported();c=this.nuxTooltip;c&&c.hide();c=a.getContentRoot();c=b("MParent").bySigil(c,"m-layer-root");c&&(this.isUpdatedDock&&!d.isComment&&(this.applyMultilineFlyout(),b("CSS").addClass(c,"_5xt_")),d.isComment&&b("CSS").addClass(c,"_31rl"));a.show();c=b("MLegacyDataStore").get(a.getContext());a=c.kaiOSReactions;a||this.createUFIOverlay();this.isUpdatedDock||d.isComment?this.showOverlay(this.overlay&&this.overlay.tap):this.showOverlay(this.overlay&&this.overlay.dots);this.flyoutSubscriptions.addSubscriptions(b("Stratcom").listen("click","reaction-item",this.onClick),b("Stratcom").listenCapture("click","like-reaction-flyout",this.onClickCapture),b("Stratcom").listenCapture("click",null,this.onWindowClick));a&&this.flyoutSubscriptions.addSubscriptions(b("Stratcom").listen("scroll",null,this.autoHideOnScroll));b("MUFIConfig").hasIEMobileFixes||this.flyoutSubscriptions.addSubscriptions(b("Stratcom").listen("touchend","like-reaction-flyout",this.onTouchEnd),b("Stratcom").listen("touchend","reaction-item",this.onTouchEnd))};c.select=function(a){__p&&__p();var c=this.flyout;c.hide();b("gkx")("676818")&&b("MAudioController").play("reactions","selectReactionFromFlyout");if(!a)return;a=b("MLegacyDataStore").get(a);a=a.reaction;c=c.getContext();var d=b("MLegacyDataStore").get(c),e=d.feedbackTarget;d=d.isComment;var f=b("MLiveData").get(e).getData();if(f.viewerreaction===a)return;if(d){d=c.getAttribute("data-uri")||c.getAttribute("href");d=b("MUFIRequest").getURI(d);d.addQueryData("reaction_comment_id",e.split("_")[1]);d.addQueryData("viewer_reaction",a);b("MUFIRequest").send(e,b("MUFIReactionsUtils").getReactionDataForComment(f,a),d)}else{d=f.actor_for_post;d!==0&&!d&&(d=null);var g=b("MParent").bySigil(c,"story-div"),h=null;if(g){g=b("MLegacyDataStore").get(g).linkdata;if(g&&b("gkx")("816008")){var i;h=(i={},i[k]=g,i)}}i=Object.assign({},(g={},g[b("ActorURI").PARAMETER_ACTOR]=d,g.ft_ent_identifier=e,g.reaction_type=a,g.feedback_source=new(b("URI"))(c.getAttribute("data-uri")).getQueryData().feedback_source,g),h);b("MUFIRequest").send(e,b("MUFIReactionsUtils").getReactionData(f,a),b("XUFIReactionController").getURIBuilder().getURI(),i,b("MUFIReactionsUtils").getConfigForBackgroundRetry(e))}};c.removeActive=function(){var a=this.active;if(a){this.active=null;a.removeAttribute("data-active");a=a.parentElement;a&&a.classList.remove("mReactionInAnimation")}};c.applyMultilineFlyout=function(){__p&&__p();var a=this.flyout,c=a.getContext();c=b("MParent").bySigil(c,"mufi-inline");a=a.getContentRoot();c=b("DOM").scry(c,"div","reactions-bling-bar");if(c.length==0){b("CSS").addClass(a,"_5xu1");return}c=c[0].getBoundingClientRect().height;c>j?b("CSS").addClass(a,"_5xu0"):c<j?b("CSS").addClass(a,"_5xu1"):(b("CSS").removeClass(a,"_5xu0"),b("CSS").removeClass(a,"_5xu1"))};c.showOverlay=function(a){var c=this.overlay;if(c&&a){b("CSS").show(a);for(var d in c){var e=c[d];e!=a&&e!=c.container&&b("CSS").hide(e)}}};c.log=function(a){var c=b("MLiveData").get(b("MLegacyDataStore").get(this.flyout.getContext()).feedbackTarget).getData(),d=c.ft_ent_identifier;c=c.viewerreaction;var e=this.timing,f=e.touchEndTime,g=e.touchStartTime;e=e.shownTime;if(!f||!g||!e)return;f=f-g;b("BanzaiLogger").log("UserReactionsLoggerConfig",{feedback_id:d,final_reaction:a.finalReaction||c,initial_reaction:c,"interface":"mTouch",long_press_duration:f>0?f:0,time_spent:Date.now()-e,via_scrubbing:a.viaScrubbing})};c.createUFIOverlay=function(){__p&&__p();var a=this.flyout.getContext(),c=b("MLegacyDataStore").get(a),d=c.feedbackTarget;c=c.isComment;d=b("MLiveData").get(d).getData().supportedreactions||i;var e=document.createElement("div");e.style.display="none";e.className="_403o";d=Math.round(d.length*1.3);for(var f=0;f<d;++f){var g=document.createElement("div");g.className="_403p";e.appendChild(g).className="_403p"}g=document.createElement("div");g.style.display="none";g.className="_5xu2";g.textContent=h._("Tap to Pick Your Reaction").toString();f=document.createElement("div");f.style.display="none";f.className="_5xu2";f.textContent=h._("Slide Finger Across").toString();d=document.createElement("div");d.style.display="none";d.className="_5xu2";d.textContent=h._("Release to Cancel").toString();var j=document.createElement("div");j.className="_403n";c&&b("CSS").addClass(j,"_31ru");j.appendChild(e);j.appendChild(d);(this.isUpdatedDock||c)&&(j.appendChild(g),j.appendChild(f));c=b("MParent").bySigil(a,"ufi-inline-actions");c||(c=b("MParent").bySigil(a,"ufi-inline-comment-actions"));c?(c.insertBefore(j,c.firstChild),this.overlay={container:j,tap:g,slide:f,release:d,dots:e}):this.overlay=null};c.removeUFIOverlay=function(){var a=this.overlay;if(a){a=a.container;a.parentNode&&a.parentNode.removeChild(a);this.overlay=null}};c.setSupported=function(){var a=b("MLegacyDataStore").get(this.flyout.getContext());a=b("MLiveData").get(a.feedbackTarget).getData().supportedreactions||i;var c=this.reactionElements;for(var d=0,e=c.length;d<e;++d){var f=c[d],g=b("MLegacyDataStore").get(f);g=g.reaction;b("CSS").conditionShow(f,a.indexOf(g)>=0)}};c.setNUXTooltip=function(a){this.nuxTooltip=a};return a}(),p;e.exports={init:function(a){p=new o(a)},addAnchor:function(a){if(p){p.addAnchor(a);return}n.push(a)},initNUX:function(a){m=a,p&&p.setNUXTooltip(a)}}}),null);
__d("MSiteMessagingEntryPoint",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT_USER_LIST_MESSAGE_BUTTON:"event_user_list_message_button",FB_PAGE_CTA_PAGE_PRIMARY_BUTTON:"fb_page_cta_page_primary_button",JEWEL:"jewel",JEWEL_THREAD:"jewel_thread",JEWEL_COMPOSE:"jewel_compose",JEWEL_SEE_ALL_MESSAGES:"jewel_see_all_messages",THREAD_LIST_NEW_MESSAGE:"thread_list_new_message",THREAD_LIST_NEW_GROUP:"thread_list_new_group",THREAD_LIST_THREAD:"thread_list_thread",PROFILE_MESSAGE_BUTTON:"profile_message_button",PAGE_PROFILE_MESSAGE_BUTTON:"page_profile_message_button",PAGE_MESSAGE_PRIMARY_CTA_BUTTON:"page_message_primary_cta_button",DESTINATION_ADS_CLICK_TO_MESSENGER:"destination_ads_click_to_messenger",SPACES_VR_ONLINE_MESSAGE_BUTTON:"spaces_vr_online_message_button",FEED_STORY_SHARE_AS_MESSAGE:"feed_story_share_as_message",REACTOR_LIST_MESSAGE_BUTTON:"reactor_list_message_button",FEED_PAGE_POST_MORE_OPTIONS:"feed_page_post_more_options"})}),null);
__d("ShareAudience",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=Object.freeze({EVERYONE:"everyone",FRIENDS:"friends",FOF:"fof",SELF:"self",CUSTOM:"custom",PAGE:"page",GROUP:"group",MESSENGER:"messenger",FRIEND_TIMELINE:"friend_timeline",UNKNOWN:"unknown",fromPrivacyString:function(a){switch(a){case null:case void 0:case g.UNKNOWN:return g.UNKNOWN;case"286958161406148":return g.SELF;case"300645083384735":return g.EVERYONE;case"368493386561757":case"275425949243301":return g.FOF;case"123780391104836":case"291667064279714":return g.FRIENDS;default:return g.CUSTOM}}});e.exports=g}),null);
__d("ShareMenuEventShareType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_FLOW_STARTED:"share_flow_started",SHARE_OPTION_SELECTED:"share_option_selected",SHARE_PUBLISH_STARTED:"share_publish_started",SHARE_CREATED:"share_created",SHARE_ABANDONED:"share_abandoned",SHARE_FAILURE:"share_failure"})}),null);
__d("ShareModeConst",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SELF_PAGE:"selfpage",PAGE:"page",SELF_POST:"self",FRIEND:"friend",GROUP:"group",FUNDRAISER:"fundraiser",ALBUM:"album",MESSAGE:"message",WHATSAPP_MESSAGE:"whatsapp_message",ONE_CLICK:"oneclick",EVENT:"event",MORE_OPTIONS:"moreoptions",UNKNOWN:"unknown",SILENT_DISCO:"silent_disco",OWN_POST:"own",STORY:"story"})}),null);
__d("ShareSignificance",[],(function(a,b,c,d,e,f){"use strict";var g=Object.freeze({SIGNIFICANT:"significant",NOT_SIGNIFICANT:"not_significant",NO_TEXT:"no_text",calculate:function(a){if(!a)return g.NO_TEXT;var b=new Set();(a||"").toLowerCase().split(" ").forEach(function(a){return b.add(a)});return b.size>5?g.SIGNIFICANT:g.NOT_SIGNIFICANT}});e.exports=g}),null);
__d("MFeedShareAnalytics",["MSiteMessagingEntryPoint","MSiteMessengerDiodeTypedLogger","ShareAudience","ShareMenuEventShareType","ShareMenuTypedLogger","ShareModeConst","ShareSignificance","Stratcom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="feed_share_action";a={_listeners:[],_initShareMode:null,_currentShareMode:null,_entryPointFromShareMode:function(a){switch(a){case b("ShareModeConst").FRIEND:return"share_to_friend_timeline";case b("ShareModeConst").GROUP:return"share_to_group";case b("ShareModeConst").MESSAGE:return"send_in_message";case b("ShareModeConst").ONE_CLICK:return"share_now";case b("ShareModeConst").OWN_POST:case b("ShareModeConst").SELF_POST:return"write_post";case b("ShareModeConst").PAGE:case b("ShareModeConst").SELF_PAGE:return"page";case b("ShareModeConst").WHATSAPP_MESSAGE:return"send_in_whatsapp";default:return"unknown"}},init:function(){this._cleanupListeners(),this._registerListeners(),this._initShareMode=null,this._currentShareMode=null},_onTearDown:function(){this._currentShareMode&&this.onShareAbandoned()},_registerListeners:function(){var a=this;this._listeners.push(b("Stratcom").listen("m:sharemode:selected",null,function(b){b=b.getData();b&&b.sharemode&&(a._currentShareMode=b.sharemode)}));this._listeners.push(b("Stratcom").listen("m:page:unload",null,function(){a._onTearDown()}))},_cleanupListeners:function(){this._onTearDown();while(this._listeners.length>0){var a=this._listeners.pop();a&&a.remove&&a.remove()}},onMenuOpened:function(){this._initShareMode=null,this._currentShareMode=null,new(b("ShareMenuTypedLogger"))().setName(g).setFbShareType(b("ShareMenuEventShareType").SHARE_FLOW_STARTED).log()},onMenuOptionSelected:function(a){this._initShareMode=a;this._currentShareMode=a;var c=this._entryPointFromShareMode(a);new(b("ShareMenuTypedLogger"))().setName(g).setFbShareType(b("ShareMenuEventShareType").SHARE_OPTION_SELECTED).setFbEntryPoint(c).log();a===b("ShareModeConst").MESSAGE&&new(b("MSiteMessengerDiodeTypedLogger"))().setVC().setMessagingEntryPoint(b("MSiteMessagingEntryPoint").FEED_STORY_SHARE_AS_MESSAGE).log()},_getShareTextArea:function(){var a=document.getElementById("share_msg_input");return a instanceof HTMLTextAreaElement?a:null},_getAudienceFromCurrentState:function(){__p&&__p();var a=document.getElementsByName("privacyx")[1];if(!a||!(a instanceof HTMLInputElement))return b("ShareAudience").UNKNOWN;switch(this._currentShareMode){case b("ShareModeConst").FRIEND:return b("ShareAudience").FRIEND_TIMELINE;case b("ShareModeConst").GROUP:return b("ShareAudience").GROUP;case b("ShareModeConst").MESSAGE:return b("ShareAudience").MESSENGER;case b("ShareModeConst").PAGE:case b("ShareModeConst").SELF_PAGE:return b("ShareAudience").PAGE;case b("ShareModeConst").SELF_POST:case b("ShareModeConst").OWN_POST:return b("ShareAudience").fromPrivacyString(a.value);default:return b("ShareModeConst").UNKNOWN}},onShareAbandoned:function(){__p&&__p();var a=null,c=null,d=null;if(this._initShareMode){a=this._entryPointFromShareMode(this._initShareMode);var e=this._getShareTextArea();e&&(c=b("ShareSignificance").calculate(e.value));d=this._getAudienceFromCurrentState()}new(b("ShareMenuTypedLogger"))().setName(g).setFbShareType(b("ShareMenuEventShareType").SHARE_ABANDONED).setFbEntryPoint(a).setFbAudience(d).setFbSignificance(c).log();this._initShareMode=null;this._currentShareMode=null}};e.exports=a}),null);
__d("AdsTransparencyReportAdEntity",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ARCHIVE_REDIRECT:"ad_archive_redirect",AD_USEFUL:"ad_useful",ADSCRIBE:"adscribe",DEPRECATED_HIDE:"deprecated_hide",HIDE_AD:"hide_ad",HIDE_AD_REASON:"hide_ad_reason",HIDE_ADVERTISER:"hide_advertiser",HIDE_PRODUCT:"hide_product",REPORT_AD_NUX:"report_ad_nux",WAIST_DIALOG:"waist_dialog",REPORT_AD:"report_ad",REPORT_AD_REASON:"report_ad_reason",TOMBSTONE:"tombstone",SAVE_AD:"save_ad",UNDO_HIDE_AD:"undo_hide_ad",UNDO_HIDE_PRODUCT:"undo_hide_product",UNDO_HIDE_ADVERTISER:"undo_hide_advertiser",UNDO_REPORT_AD:"undo_report_ad",XOUT_MENU:"xout_menu"})}),null);
__d("AdsTransparencyReportAdEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BACKEND_AD_XOUT_EVENT_WRITE:"backend_ad_xout_event_write",BACKEND_ASSOC_WRITE:"backend_assoc_write",BACKEND_UNDO_AD_XOUT_EVENT_WRITE:"backend_undo_ad_xout_event_write",BACKEND_UNDO_ASSOC_WRITE:"backend_undo_assoc_write",CLICK:"click",IMPRESSION:"impression",INFO:"info",INVALIDATION:"invalidation"})}),null);
__d("MReportAdLoggingEvents",["AdsTransparencyReportAdEntity","AdsTransparencyReportAdEvent","AdsTransparencyReportAdTypedLogger","EventListener","WebFunnelLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={registerMenuItemClick:function(a,c,d,e,f,g,h){b("EventListener").listen(a,"click",function(){new(b("AdsTransparencyReportAdTypedLogger"))().setEvent(b("AdsTransparencyReportAdEvent").CLICK).setAdID(c).setEntity(d).setSessionID(e).setProductLocation(g).setAdsPageType(f).log();if(d===b("AdsTransparencyReportAdEntity").XOUT_MENU&&h){var a=new(b("WebFunnelLogger"))("AdsReportingFunnelDefinition");a.markStart();a.setAction("click").setActionTag("xout_menu").addFunnelPayload("flowtype",h).setSessionKey(c).log()}})}};e.exports=a}),null);
__d("MComposerTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTIVITY:"activity",CHECKIN:"checkin",EDIT:"edit",GROUP_SELL:"group_sell",PHOTO:"photo",RECOMMENDATION:"recommendation",SHARE:"share",STATUS:"status",TAG_FRIEND:"tag_friend",AUDIO:"audio",OTHER:"other"})}),null);
__d("MCompositionConfigFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OPENED_AT:"opened_at",SESSION_ID:"csid",ACTION:"action",COMPOSER_TITLE:"composertitle",COMPOSER_TYPE:"composer_type",INPUT_NAME:"inputname",PLACEHOLDER:"placeholder",BUTTON_TEXT_SUBMIT:"button_text_submit",TARGET_ID:"targetid",CANCEL_CONFIRMATION_MESSAGE:"cancel_confirm_message",POST_ID:"postid",DISABLE_MENTIONS:"disable_mentions",DISABLE_OG_TAG:"disable_og_tags",DISABLE_OG_TAG_PREVIEW:"disable_og_tags_preview",DISABLE_PEOPLE_TAGS:"disable_people_tags",DISABLE_PHOTOS:"disable_photos",DISABLE_LINK:"disable_link",DISABLE_ALBUM:"disable_album",DISABLE_ALBUM_INFO:"disable_album_info",DISABLE_PLACE_TAG:"disable_place_tag",DISABLE_PRIVACY:"disable_privacy",DISABLE_VOICE_SELECTOR:"disable_voice_selector",DISABLE_SLIDESHOW:"disable_slideshow",ACTOR_ID:"actor_id",DISABLE_SUBMIT_REQUEST:"disable_submit_request",FORCE_ASYNC:"forceasync",SYNC_SUBMIT:"syncsubmit",MAX_PHOTOS_ALLOWED:"max_photos_allowed",PIN_PLACE:"pinplace",PIN_PRIVACY:"pinprivacy",SHOW_POST_TYPE_SELECTOR:"showposttypeselector",CONTEXTUAL_MESSAGE:"contextualmessage",SKIP_FOCUS:"skip_focus",WITH_LINK_PROMPT:"withlinkprompt",LOGGING_SURFACE:"logging_surface"})}),null);
__d("MCompositionShareFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ID:"ID",APP_ID:"APP_ID",INTERNAL_EXTRA:"INTERNAL_EXTRA",FEEDBACK_SOURCE:"FEEDBACK_SOURCE",DISABLED_LINKS:"DISABLED_LINKS",SHARE_URI:"SHARE_URI",LINK_NO_CHANGE:"LINK_NO_CHANGE"})}),null);
__d("ShareToWhatsappEnums",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GK_FOR_MSITE:"sc_india_share_to_wa_msite",MSITE_ENTRYPOINT:"sdd",MSITE_INTERFACE:"scmts",MSITE_NUX_TOOLTIP_ID:"special_countries_share_to_whatsapp_msite_nux",QE_FOR_MSITE:"sc_india_share_to_whatsapp_mtouch",SHARE_TO_WHATSAPP_SIGIL:"share-to-whatsapp"})}),null);
__d("MShareFlyout",["cx","fbt","CSS","DOM","MComposerEntry","MComposerTypes","MComposition","MCompositionConfigFields","MCompositionShareFields","MCompositionStoreID","MFeedShareAnalytics","MLegacyDataStore","MModalDialog","MParent","MRequest","MViewport","NTAnnounceSubscription","ShareModeConst","ShareToWhatsappEnums","Stratcom","URI","Vector","clearTimeout","ge","qex","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="mufi-inline",j="share-one-click-button",k="share-post-one-click-button",l="share-with-message-button",m="share-in-a-private-message-button",n="oneClickShareResult",o=6e3,p="share-more-options-button",q="share-to-page-button",r="page_share_content_action",s="/a/sharer.php",t="/sharer-dialog.php",u="share-in-a-group-button",v,w,x,y,z,A,B,C,D={},E={},F=[],G,H,I,J,K,L,M;function a(a,c,d,e,f){__p&&__p();if(v)return;Z();G=c;v=a;w=a.getRoot();H=d;c=e||{};K=c.bluebarNoOverlapBuffer;d=e||{};L=d.useSpatialNavInKaiOS;b("MModalDialog").init();b("MFeedShareAnalytics").init();ba(f);L&&(b("CSS").addClass(a.getContentRoot(),"_7767"),b("CSS").addClass(a.getContentRoot().children[0],"_7768"))}function c(a){return}function N(a){b("MFeedShareAnalytics").onMenuOptionSelected(a),M=!0}function O(a){L&&v.hide(),b("MModalDialog").isOpen()?b("MModalDialog").load(a):b("MModalDialog").open(a,P)}function P(a){!!a&&a.canceled&&b("MFeedShareAnalytics").onShareAbandoned()}function Q(){var a=new(b("MRequest"))(s);a.setMethod("POST");a.addData({m:b("ShareModeConst").ONE_CLICK,privacyx:G,sid:y,shareID:y,fs:A,fr:B,internal_preview_image_id:x,should_share_post:J,direct:!0,_ft_:C});a.send();N(b("ShareModeConst").ONE_CLICK);v.hide()}function R(){__p&&__p();if(H){var a={};a[b("MCompositionShareFields").ID]=y;a[b("MCompositionShareFields").FEEDBACK_SOURCE]=A;a[b("MCompositionShareFields").FEEDBACK_REFERRER]=B;var c={};c[b("MCompositionConfigFields").COMPOSER_TYPE]=b("MComposerTypes").SHARE;c[b("MCompositionConfigFields").COMPOSER_TITLE]=h._("Share");c[b("MCompositionConfigFields").CONTEXTUAL_MESSAGE]=h._("Share on your timeline");c[b("MCompositionConfigFields").PLACEHOLDER]=h._("Write something...");c[b("MCompositionConfigFields").DISABLE_PHOTOS]=!0;var d=b("MViewport").getScrollTop();b("MComposerEntry").invoke(new(b("MComposition"))().setStoreData(b("MCompositionStoreID").CONFIG,c).setStoreData(b("MCompositionStoreID").SHARE,a))["finally"](function(){return b("MViewport").scrollTo(0,d)})}else O(new(b("URI"))(t).setQueryData({fs:A,fr:B,sid:y,_ft_:C,internal_preview_image_id:x}).toString()),N(b("ShareModeConst").SELF_POST),v.hide()}function S(a){O(new(b("URI"))(t).setQueryData({fs:A,fr:B,m:a,sid:y,_ft_:C,internal_preview_image_id:x,selected_page_id:I}).toString()),N(a),v.hide()}function T(){O(new(b("URI"))(t).setQueryData({fs:A,fr:B,m:b("ShareModeConst").MESSAGE,sid:y,u:window.location.href,internal_preview_image_id:x}).toString()),N(b("ShareModeConst").MESSAGE),v.hide()}function U(){var a=z.contains("?")?"&":"?",c=b("qex")._("895974");a=a+b("ShareToWhatsappEnums").MSITE_INTERFACE+"="+c+b("ShareToWhatsappEnums").MSITE_ENTRYPOINT;c=z.startsWith("/")?"http://www.facebook.com"+z+a:z;a=new URL("https://wa.me/");window.location.assign(a+"?text="+encodeURIComponent(c));N(b("ShareModeConst").WHATSAPP_MESSAGE);v.hide()}function V(a){if(typeof navigator.share!=="function"){v.hide();return}a={url:W(z)};navigator.share(a).then(function(){})["catch"](function(a){});N(b("ShareModeConst").MORE_OPTIONS);v.hide()}function W(a){a+=a.includes("?")?"&":"?";a+="sfnsm=mo";return a}function X(a){a&&b("DOM").hide(a)}function Y(a){a&&b("DOM").show(a)}function aa(a,c){c=c&&c.is_comment_share;var d=b("DOM").scry(a,"a",k)[0];a=b("DOM").scry(a,"a",j)[0];c&&!D[y]?(X(d),X(a)):J?(Y(d),X(a)):(Y(a),X(d))}function ba(a){__p&&__p();F=[v.addListener("beforeshow",function(){__p&&__p();if(K!=null){var c=b("MViewport").getScrollTop();c<K&&b("ge")("header")?v.setAutoflipTopOffset(K-c):v.setAutoflipTopOffset(0)}c=v.getContext();var d=b("MLegacyDataStore").get(c);J=d.reshare_post;y=d&&d.share_id;A=d&&d.feedback_source;B=d&&d.feedback_referrer;x=d&&d.internal_preview_image_id;z=d&&d.shareable_uri;var e=b("MParent").bySigil(c,"story-div");a?C=a:C=e?b("MLegacyDataStore").get(e).linkdata:null;y&&(D[y]=ca(c));b("MFeedShareAnalytics").onMenuOpened();M=!1;aa(w,d)}),v.addListener("hide",function(){M||b("MFeedShareAnalytics").onShareAbandoned()}),b("Stratcom").listen("click",j,Q),b("Stratcom").listen("click",k,Q),b("Stratcom").listen("click",l,R),b("Stratcom").listen("click",m,T),b("Stratcom").listen("click",b("ShareToWhatsappEnums").SHARE_TO_WHATSAPP_SIGIL,U),b("Stratcom").listen("click",q,function(){S("page")}),b("Stratcom").listen("click",u,function(){S("group")}),b("Stratcom").listen("click",p,function(){V(z)}),b("Stratcom").listen("m:page:unload",null,Z),b("NTAnnounceSubscription").subscribe(r,function(a){a=JSON.parse(a),y=a.content_id,I=a.page_id,S("page")})]}function Z(){v=null;for(var a in E)b("clearTimeout")(E[a]);E={};while(F.length){var c=F.pop();c&&c.remove&&c.remove()}}function ca(a){if(!a||a===document||a instanceof DocumentFragment)return null;return b("Stratcom").hasSigil(a,i)?a:b("MParent").bySigil(a,i)}function $(a,c){var d=b("DOM").scry(a,"div",n);d[0]&&b("DOM").remove(d[0]);d=b("DOM").create("div",{className:"_4_m7"},c);b("Stratcom").addSigil(d,n);b("DOM").appendContent(a,d);return d}function d(c,a){__p&&__p();var d=D[a];delete D[a];if(!d)return;var e=$(d,c);c=b("Vector").getPos(d);d=b("Vector").getDim(d).y;var f=b("MViewport").getScrollTop(),g=b("MViewport").getScrollHeight();(c.y<f||c.y+d>f+g)&&b("MViewport").scrollTo(c.x,c.y-250);E[a]=b("setTimeoutAcrossTransitions")(function(){delete E[a],b("DOM").remove(e)},o)}function e(c,a){var d=D[a];delete D[a];if(!d)return;if(b("Vector").getPos(d).y>=b("MViewport").getScrollTop()){var e=$(d,c);E[a]=b("setTimeoutAcrossTransitions")(function(){delete E[a],b("Vector").getPos(d).y>=b("MViewport").getScrollTop()&&b("DOM").remove(e)},o)}}f.init=a;f.initMisinfo=c;f.onSuccess=e;f.onFailure=d}),null);
__d("MUFIComposerFocus",["DOM","MLegacyDataStore","MParent","Parent","Stratcom"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="mufi-composer-focus",h;function i(a){var b=a.parentNode,c=[];while(b)c.unshift(a),a=b,b=a.parentNode;return c}function j(a,b){var c=Math.min(a.length,b.length)-1;for(var c=c;c>=0;c--)if(a[c]===b[c])return c;return-1}function k(a){__p&&__p();if(!a)return null;var c=b("MParent").bySigil(a,"story-div")||b("MParent").bySigil(a,"snowflake-root")||b("MParent").bySigil(a,"notes-root");if(!c)return null;c=b("DOM").scry(c,"*","mufi-composer").filter(function(a){return!b("MParent").bySigil(a,"m-inline-reply-composer")});if(c.length===1)return c[0];var d=i(a);a=c.reduce(function(a,b,c){c=i(b);c=j(d,c);return c>=a[0]?[c,b]:a},[-1,null]);return a[1]}function l(a){var b=a.getNode(g);if(!(b instanceof HTMLElement))return;b=k(b);b&&(a.prevent(),b.focus())}function a(a){if(!a||!h)return!1;a=b("Stratcom").hasSigil(a,g)?a:b("MParent").bySigil(a,g);return!!k(a)}function m(a){__p&&__p();a=a.getNode(g);if(!(a instanceof HTMLElement))return;var c=k(a);if(c){var d=b("MParent").bySigil(a,"touchable");d&&(b("MLegacyDataStore").get(d).nativeClick=!0);d=b("Parent").byTag(a,"a");d instanceof HTMLAnchorElement&&(d.href="#"+b("DOM").uniqID(c))}}function c(){h||(b("Stratcom").listen("touchstart",g,m),b("Stratcom").listen("click",g,l),h=!0)}e.exports={init:c,isInitialized:function(){return h},isComposerFocusTrigger:a}}),null);
__d("MUFILikeButton",["cx","ActorURI","CSS","DOM","MLegacyDataStore","MLiveData","MParent","MUFIReactionsUtils","MUFIRequest","Stratcom","SubscriptionsHandler","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h={is_like:1},i={is_like:0};a=function(){"use strict";__p&&__p();function a(a,c,d,e){this.$1=a,this.$2=b("MLiveData").get(c),this.$4=c,this.$5=d||{log:b("emptyFunction")},this.$6=e,this.$7=b("MUFIReactionsUtils").getConfigForBackgroundRetry(c),this.$3=new(b("SubscriptionsHandler"))(),this.$3.addSubscriptions(b("DOM").listen(this.$1,"click",null,this.onClick.bind(this)),this.$2.listen("change",this.onChange.bind(this)),b("Stratcom").listen("m:page:unload",null,this.onUnload.bind(this)))}var c=a.prototype;c.onChange=function(){var a=this.$2.getData();if(a.request_id===this.$6)return;a=a.has_viewer_liked;b("CSS").conditionClass(this.$1,"_77la",a);b("Stratcom").removeSigil(this.$1,a?"like":"unlike");b("Stratcom").addSigil(this.$1,a?"unlike":"like")};c.getFeedbackData=function(){var a=this.$2.getData(),b=a.has_viewer_liked,c=b?a.like_count-1:a.like_count+1,d=a.reduced_like_count;isNaN(d)||(d=c.toString());return{has_viewer_liked:!b,like_count:c,like_counts:[a.like_counts[1]||null,a.like_counts[0]],like_friend_sentences:[a.like_friend_sentences[1]||null,a.like_friend_sentences[0]],like_sentences:[a.like_sentences[1]||null,a.like_sentences[0]],reduced_like_count:d}};c.getRequestData=function(){return null};c.onClick=function(a){__p&&__p();a.prevent();var c=a.getNode("tag:a");c||(c=a.getNode("tag:div"));if(!c)return;a=b("MUFIRequest").getURI(c.getAttribute("href")||c.getAttribute("data-uri"));this.$2.getData().has_viewer_liked?(a.addQueryData("ul",!0),a.removeQueryData("reaction_type")):a.removeQueryData(["ul","reaction_type"]);c=b("MParent").bySigil(this.$1,"feed-ufi-metadata");if(c){c=b("MLegacyDataStore").get(c).actor_id;c&&(a=b("ActorURI").create(a,String(c)))}b("MUFIRequest").send(this.$4,this.getFeedbackData(),a,this.getRequestData(),this.$7);this.$5.log("like",void 0,this.$2.getData().has_viewer_liked?i:h)};c.onUnload=function(){this.$3.release(),this.$3=null};return a}();e.exports=a}),null);
__d("UFIUIEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ActionAddComment:"UFIUIEvents/ufiActionAddComment",ActionLinkLike:"UFIUIEvents/ufiActionLinkLike",Blur:"ufi/blur",Changed:"ufi/changed",Comment:"ufi/comment",CommentChanged:"ufi/commentChanged",CommentPager:"CommentUFI.Pager",CommentPivot:"ufi/comment_pivot",Focus:"ufi/focus",InputHeightChanged:"ufi/inputHeightChanged",PageCleared:"ufi/page_cleared",PhotoPreviewHeightChanged:"ufi/photoPreviewHightChanged",TranslationRendered:"ufi/translationRendered",ReactionButtonClicked:"ufi/reactionButtonClicked"})}),null);
__d("MUFIReactionButton",["cx","fbt","CSS","DOM","MAudioController","MLiveData","MUFILikeButton","MUFIReactionsUtils","Stratcom","Style","UFIReactionIcons","UFIReactionTypes","UFIUIEvents","createIxElement","gkx"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=1,j=0,k=16;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f,g,h,i){__p&&__p();h=a.call(this,c,d,e,f)||this;h.$MUFIReactionButton1=c;h.$MUFIReactionButton2=b("MLiveData").get(d);h.$MUFIReactionButton3=d;h.$MUFIReactionButton4=f;h.$MUFIReactionButton5=g||k;h.$MUFIReactionButton6=!!i;c.href&&c.setAttribute("data-uri",c.href);c.removeAttribute("href");return h}var d=c.prototype;d.onChange=function(){__p&&__p();var a=this.$MUFIReactionButton2.getData();if(a.request_id===this.$MUFIReactionButton4)return;var c,d;a=a.viewerreaction;var e=!!a;a&&!b("UFIReactionTypes").reactions[a]&&(a=null);if(!a)c="inherit",d=h._("Like"),this.$MUFIReactionButton6&&(d=b("DOM").create("span",{className:"_780q"},d));else{var f=null;if(a!==i){var g=b("UFIReactionIcons")[a][this.$MUFIReactionButton5];g||(g=b("UFIReactionIcons")[a][k]);f=b("createIxElement")(g);b("CSS").addClass(f,"_4h-b")}c=b("UFIReactionTypes").reactions[a].color;g=b("UFIReactionTypes").reactions[a].display_name;this.$MUFIReactionButton6&&(g=b("DOM").create("span",{className:"_780q"},g));d=[f,g]}b("DOM").setContent(this.$MUFIReactionButton1,d);this.$MUFIReactionButton1.setAttribute("aria-pressed",e);b("CSS").conditionClass(this.$MUFIReactionButton1,"_77ld",e&&a!==i);b("CSS").conditionClass(this.$MUFIReactionButton1,"_77la",e&&a===i);b("Style").set(this.$MUFIReactionButton1,"color",c);b("Stratcom").removeSigil(this.$MUFIReactionButton1,e?"like":"unlike");b("Stratcom").addSigil(this.$MUFIReactionButton1,e?"unlike":"like");b("Stratcom").invoke(b("UFIUIEvents").ReactionButtonClicked,null,this.getRequestData())};d.getFeedbackData=function(){var a=this.$MUFIReactionButton2.getData();return b("MUFIReactionsUtils").getReactionData(a,a.has_viewer_liked||a.viewerreaction?j:i)};d.getRequestData=function(){var a=this.$MUFIReactionButton2.getData(),b=a.has_viewer_liked||a.viewerreaction;return{reaction_type:b?j:i,ft_ent_identifier:a.ft_ent_identifier}};d.onClick=function(c){var d=this.$MUFIReactionButton2.getData().viewerreaction;d===j&&(b("gkx")("676818")&&b("MAudioController").play("reactions","like"));if(b("Stratcom").hasSigil(this.$MUFIReactionButton1,"kaios-like-react-trigger")){d=this.$MUFIReactionButton2.getData();d.viewerreaction&&c.stop()}a.prototype.onClick.call(this,c)};return c}(b("MUFILikeButton"));e.exports=a}),null);