if (self.CavalryLogger) { CavalryLogger.start_js(["J2Wvn"]); }

__d("CommentsTimeSpentTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsTimeSpentLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEndTime=function(a){this.$1.end_time=a;return this};c.setOrderingMode=function(a){this.$1.ordering_mode=a;return this};c.setPostFbid=function(a){this.$1.post_fbid=a;return this};c.setStartTime=function(a){this.$1.start_time=a;return this};c.setTimeSpentID=function(a){this.$1.time_spent_id=a;return this};c.setViewerHasInteracted=function(a){this.$1.viewer_has_interacted=a;return this};return a}();c={end_time:!0,ordering_mode:!0,post_fbid:!0,start_time:!0,time_spent_id:!0,viewer_has_interacted:!0};e.exports=a}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){__p&&__p();var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null,x=!1;function a(){G().set(k,y())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function y(){t=t||G().get(k)||0;return t}function z(){v||(u=G().get(l),v=!0);var a=Date.now();(!u||a-i>y())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),G().set(l,u));return u}function A(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function B(){return{locale:navigator.language}}function C(b,a,c,d,f,g,h){var i=h||Date.now();t=h?Date.now():i;a=a||p;return{name:b,time:i/1e3,module:a,obj_type:d,obj_id:f,uuid:g,extra:c}}function D(a,b,c){return C("content",null,{flags:b},null,null,a,c)}function E(a){__p&&__p();var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(D(c,1,d[1]));a.push(D(c,2,d[2]));a.push(D(c,3,d[3]))}}}function F(a){__p&&__p();E(a);if(a.length===0)return;o&&a.push(C("counters",null,m));var c=b("Banzai").BASIC,d=b("MarauderConfig").gk_enabled;s===0&&d&&(a.push(C("device_status",null,B())),c={delay:5e3});d&&Math.random()<.01&&a.push(C("device_info",null,A()));if(r!==null)for(var d=0;d<a.length;d++){var e=a[d];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,log_type:g,seq:s++,session_id:z()};d=G().get("device_id");d&&(e.device_id=d);m={};o=!1;b("Banzai").post(j,e,c)}function G(){x||(x=!0,w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function H(b,a,c,d,f,g,h){F([C(b,a,c,d,f,g,h)])}function I(a,b){p!==b&&(n.push(C(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,I(a,b))}function f(a,b,c){H(b?"show_module":"hide_module",a,c)}function J(a){p=a}function K(){return p}function L(a){r===null&&(r=a,a!==null&&(F(n),n=[]))}e.exports={count:c,log:H,navigateTo:d,navigateWithinSession:I,toggleModule:f,setUUID:L,setNavigationModule:J,getNavigationModule:K}}),null);
__d("MSideNavMarauderLogger",["MarauderLogger","MLegacyDataStore","MTouchClick","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="";function a(a){b("MarauderLogger").toggleModule("sidebar_menu",!0)}function c(a){b("MarauderLogger").toggleModule("sidebar_menu",!1)}function d(a){var c=a.getNode("tag:a");a=a.getNode("tag:div");b("MarauderLogger").log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:a?a.innerText:"unknown",url:c&&c.href});b("MarauderLogger").setNavigationModule("sidebar_menu")}function f(){j("session_start")}function h(a){__p&&__p();a=a.getData();if(a.node.rel<=0)return;var c=0,d="",e=b("MLegacyDataStore").get(a.node);e&&(c=e.bootstrap?1:0,d=e.type);e=0;var f=null;for(var g=0;g<a.results.length;g++){var h=a.results[g];if(h.rel>0){if(h.rel==a.node.rel){f=e;break}e++}}j("click",{query:a.query,is_bootstrapped:c,display_position:f},d,a.node.rel)}function i(a){g!==a&&j("search_keystroke",{prev_query:g,new_query:a}),g=a}function j(a,c,d,e){b("MarauderLogger").log(a,"search_typeahead",c,d,e)}function k(a){return a.listen("change",i)}b("Stratcom").listen("m:side-area:show",null,a);b("Stratcom").listen("m:side-area:hide",null,c);b("Stratcom").listen("click","side-menu-item",d);a=b("MTouchClick").hasTouchEvents()?"touchend":"click";b("Stratcom").listen(a,"graph-search-activator",f);b("Stratcom").listen("m:search:typeahead:focused",null,f);b("Stratcom").listen("m:search:typeahead:activated",null,f);b("Stratcom").listen("m:search-typeahead:select",null,h);e.exports={setupTypeaheadListener:k}}),null);
__d("MModalDialogLink",["MLegacyDataStore","MModalDialog","MPageController","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="dialog-link";b("Stratcom").listen("click",g,function(a){__p&&__p();a.prevent();var c=a.getNode(g);switch(c.getAttribute("rel")){case"dialog":b("MModalDialog").open(b("MLegacyDataStore").get(a.getNode(g)).dialogURI,function(a){a&&(a.redirectURI?b("MPageController").forceLoad(a.redirectURI):a.refresh&&b("MPageController").reload())},c.getAttribute("data-loading-title"));break;case"dialog-load":b("MModalDialog").load(b("MLegacyDataStore").get(a.getNode(g)).dialogURI,{dontPushState:!1,hideNavBar:!1},c.getAttribute("data-loading-title"));break;case"dialog-close":b("MModalDialog").close({redirectURI:b("MLegacyDataStore").get(a.getNode(g)).dialogURI,goBack:!0});break;case"dialog-close-and-navigate":b("MModalDialog").close({redirectURI:b("MLegacyDataStore").get(a.getNode(g)).dialogURI,goBack:!1});break;case"dialog-close-and-refresh":b("MModalDialog").close({refresh:!0,goBack:!0});break}})}),null);
__d("MLayerHideOnCloseClick",["DOM"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=null,this.$3=a}var c=a.prototype;c.enable=function(){this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this))],this.$3.isShown()&&this.$4()};c.disable=function(){this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null};c.$5=function(){this.$2&&this.$2.remove()};c.$4=function(){this.$2=b("DOM").listen(this.$3.getRoot(),"click","mlayer-hide-on-click",this.$3.hide.bind(this.$3))};return a}();e.exports=a}),null);
__d("MUFICommentViewportTracking",["MarauderLogger","MLegacyDataStore","MUFIConfig","MViewportTracking"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataFromConfig=function(a){this.vpvLoggingEnabled=a.vpvLoggingEnabled};d.getStoryID=function(a){return b("MLegacyDataStore").get(a).token};d.getDataToLog=function(a){return this.getStoryID(a)};d.sendDataToLog=function(a){this.vpvLoggingEnabled&&b("MarauderLogger").log("comment_vpv",void 0,null,"comment",a)};d.getTimeout=function(){return b("MUFIConfig").vpvLoggingTimeout};return c}(b("MViewportTracking"));e.exports=a}),null);
__d("MUFIStaticCommentViewportTracking",["CommentsTimeSpentTypedLogger","MUFICommentViewportTracking","Stratcom","pageID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=null;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);c.trackStatically=function(a,d,e,f,i){var j=i+"_"+f,k=g[j];k||(k=new c(),g[j]=k,k.init({is_loose:!1,throttle_no_delay:!1,relaxed_min_size:!0,vpv_debug:!1,triggerOverride:[["scroll",null],["touchmove","ufi-overlay"]],vpvLoggingEnabled:d,timeTrackingEnabled:e,orderingMode:f,targetFBID:i}));h||(h=b("Stratcom").listen("m:page:unload",null,c.resetAll));k.addComments(a);k.fireEvent()};c.resetAll=function(){h&&h.remove(),h=null,g={}};function c(){var b;b=a.call(this)||this;b.resetTimeSpentInterval();b.comments=[];return b}var d=c.prototype;d.addComments=function(a){this.comments.push.apply(this.comments,a)};d.getDataFromConfig=function(b){a.prototype.getDataFromConfig.call(this,b),this.isTimeTrackingEnabled=b.timeTrackingEnabled,this.orderingMode=b.orderingMode,this.targetFBID=b.targetFBID};d.getAllStories=function(){return this.comments};d.recordVPVDurations=function(a,c){this.recordVPVDurationsInternal(a,c),(c||!a.length)&&(this.timeSpentIntervalStart<this.timeSpentIntervalEnd&&new(b("CommentsTimeSpentTypedLogger"))().setOrderingMode(this.orderingMode).setPostFbid(this.targetFBID).setStartTime(this.timeSpentIntervalStart).setEndTime(this.timeSpentIntervalEnd).setTimeSpentID(b("pageID")).log(),this.resetTimeSpentInterval())};d.sendTimetrackingDataToLog=function(a){var b=Math.round(a.vpvd_start_timestamp);b<this.timeSpentIntervalStart&&(this.timeSpentIntervalStart=b);b=b+Math.round(a.vpvd_time_delta/1e3);b>this.timeSpentIntervalEnd&&(this.timeSpentIntervalEnd=b)};d.resetTimeSpentInterval=function(){this.timeSpentIntervalStart=Number.MAX_VALUE,this.timeSpentIntervalEnd=0};return c}(b("MUFICommentViewportTracking"));e.exports=a}),null);