if (self.CavalryLogger) { CavalryLogger.start_js(["3DQkf"]); }

__d("MSearchEntityModuleClickListener",["csx","DOM","Parent","Run","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={init:function(a){__p&&__p();var c=new(b("SubscriptionsHandler"))();c.addSubscriptions(b("DOM").listen(a.results_page,"click",null,function(c){__p&&__p();c=c.getTarget();if(!c)return;c=b("Parent").bySelector(c,"[data-module-role]");if(c){c=c.getAttribute("data-module-role");if(c){c=a.entity_module_roles.indexOf(c)>-1;c&&b("Stratcom").invoke("m:search:refresh-nullstate-with-delay",null,{})}}}));b("Run").onLeave(function(){c.release()})}};e.exports=a}),null);
__d("MGraphSearchPerfLogger",["Banzai","MPageController","MPageControllerPath","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="mtouch_browse_perf";a={init:function(a,c){__p&&__p();var d=this;if(this._initComplete)return;this._edgeType=a;this._vertical=c;this._requestPath=b("MPageControllerPath").getRequestPath();this._initComplete=!0;b("Stratcom").listen("m:root:render",null,function(){return d.logPerfInfo()});b("Stratcom").listen("m:page:render:cache:complete",null,function(){return d._cachedResponse=!0})},logPerfInfo:function(){__p&&__p();var a=b("MPageController").getRenderedPath();if(a==null)return;b("Stratcom").removeCurrentListener();if(this._requestPath!==a){this._requestPath=null;this._initComplete=!1;return}var c=this.getNavStart(),d=Date.now();d={cached_response:this._cachedResponse,navigation_start:c,raw_tti:d,tti:d-window._cstart,tti_full:c?d-c:0,window_cstart:window._cstart,path:a,edge_type:this._edgeType,vertical:this._vertical};b("Banzai").post(g,d);this._requestPath=null;this._initComplete=!1},getNavStart:function(){if(window.ExitTime)return window.ExitTime;var a=window.performance||window.msPerformance;if(!a||!a.timing)return;return a.timing.navigationStart}};e.exports=a}),null);
__d("MGraphSearchResultsLogger",["DataAttributeUtils","FBJSON","MarauderLogger","MLegacyDataStore","MLynx","Parent","Stratcom"],(function(a,b,c,d,e,f){__p&&__p();var g="m-graph-search-result-page-click-target",h="m-graph-search-user-result-footer",i="m-graph-search-story-result",j="m-graph-search-result-page-action-button",k="m-graph-search-result-page-message-button",l="m-graph-search-result-page-friend-button",m="m-graph-search-result-page-event-button",n="m-graph-search-result-page-group-button",o="keyword-search-collapsible-header-button",p="m-graph-search-result-page-live-update-pill",q="m-graph-search-result-page-dym-link",r,s,t;function a(a,c){__p&&__p();if(!a)return;r=a;s=c;if(t!=null)return;t=!0;b("Stratcom").listen("click",g,y.bind(this));b("Stratcom").listen("click",h,w.bind(this));b("Stratcom").listen("click",i,v.bind(this));b("Stratcom").listenCapture("click",j,u.bind(this));b("Stratcom").listenCapture("click",p,z.bind(this));b("Stratcom").listenCapture("click",q,A.bind(this))}function u(a){var c=x(a.getTarget(),j);if(!c)return;var d=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));b("Stratcom").hasSigil(a.getTarget(),"m-isfan-markup")?d.click_type="unlike":b("Stratcom").hasSigil(a.getTarget(),"m-notfan-markup")?d.click_type="like":b("Stratcom").hasSigil(c,k)?d.click_type="message":b("Stratcom").hasSigil(c,l)?d.click_type="add_friend":b("Stratcom").hasSigil(c,m)?d.click_type="event":b("Stratcom").hasSigil(c,n)&&(d.click_type="group");C(c,d);B("click",d)}function v(a){__p&&__p();var c=x(a.getTarget(),i);if(!c)return;var d=b("Parent").byTag(a.getTarget(),"a");d||(d=a.getTarget());a=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));a.destination=d.href;a.session_id=r;b("Stratcom").hasSigil(d,"marauder-unlike")||b("Stratcom").hasSigil(d,"unlike")?a.click_type="unlike":b("Stratcom").hasSigil(d,"marauder-like")||b("Stratcom").hasSigil(d,"like")?a.click_type="like":b("Stratcom").hasSigil(d,"ufiCommentLink")?a.click_type="comment":b("Stratcom").hasSigil(d,"share-popup")?a.click_type="share":b("Stratcom").hasSigil(d,o)?a.click_type="story_header_expand":b("Stratcom").hasSigil(d,"m-video-play-button")?a.click_type="video_play":(b("MLynx").isShimmedLink(d)||d.getAttribute("target")==="_blank")&&(a.click_type="outbound_link");C(c,a);B("click",a)}function w(a){var c=x(a.getTarget(),h);if(!c)return;var d=babelHelpers["extends"]({},b("MLegacyDataStore").get(c));d.destination=b("MLegacyDataStore").get(a.getTarget()).context_item_url;C(c,d);B("click",d)}function x(a,c){while(a){if(b("Stratcom").hasSigil(a,c))return a;a=a.parentNode}return null}function y(a){a=x(a.getTarget(),g);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));C(a,c);B("click",c)}function z(a){a=x(a.getTarget(),p);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));c.click_type="live_update_pill";C(a,c);B("click",c)}function A(a){a=x(a.getTarget(),q);if(!a)return;var c=babelHelpers["extends"]({},b("MLegacyDataStore").get(a));c.click_type="dym_link";C(a,c);B("click",c)}function B(a,c){c.session_id=r,c.unique_session_id=s,b("MarauderLogger").log(a,"graph_search_result_page",c)}function C(a,c){__p&&__p();a=b("DataAttributeUtils").getParentByAttributeOrDataStoreKey(a,"data-xt","data-xt");if(!a)return;a=b("DataAttributeUtils").getDataAttribute(a,"data-xt");if(a!=null){a=a.match(/\{(.*)\}$/g);if(a!=null&&a.length===1){a=b("FBJSON").parse(a[0]);c.module_id=a.module_id;c.module_result_position=a.module_result_position;c.module_role=a.module_role;c.result_creation_time=a.result_creation_time;c.xt_result_id=a.result_id;c.xt_click_type=a.click_type;c.sid=a.sid;a.dym_confidence!=null&&(c.dym_confidence=a.dym_confidence,c.dym_query=a.dym_query,c.dym_correction=a.dym_correction,c.dym_clicked=a.dym_clicked)}}}e.exports=a}),null);